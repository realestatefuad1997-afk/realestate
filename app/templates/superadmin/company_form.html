{% extends 'base.html' %}
{% block title %}Company{% endblock %}
{% block content %}
<h2>{{ 'Edit Company' if company else 'New Company' }}</h2>
<form method="post">
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Name</label>
      <input class="form-control" name="name" value="{{ company.name if company else '' }}" required />
    </div>
    <div class="col-md-6">
      <label class="form-label">Subdomain</label>
      <input class="form-control" name="subdomain" value="{{ company.subdomain if company else '' }}" {% if company %}readonly{% endif %} required />
    </div>
    <div class="col-md-4">
      <label class="form-label">Primary color</label>
      <input type="color" class="form-control form-control-color" name="primary_color" value="{{ company.primary_color if company else '#0d6efd' }}" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Secondary color</label>
      <input type="color" class="form-control form-control-color" name="secondary_color" value="{{ company.secondary_color if company else '#6c757d' }}" />
    </div>
    <div class="col-md-4">
      <label class="form-label">Font family</label>
      <input class="form-control" name="font_family" value="{{ company.font_family if company else 'system-ui, -apple-system, Segoe UI, Roboto' }}" />
    </div>
    {% if not company %}
    <div class="col-12">
      <label class="form-label">Custom DB URI (optional)</label>
      <input class="form-control" name="db_uri" placeholder="postgresql+psycopg2://user:pass@host/dbname or mysql+pymysql://..." />
      <div class="form-text">Leave empty to auto-create SQLite database file per company.</div>
    </div>
    {% endif %}
    {% if company %}
    <div class="col-md-3 form-check mt-3">
      <input class="form-check-input" type="checkbox" value="1" id="is_active" name="is_active" {% if company.is_active %}checked{% endif %}>
      <label class="form-check-label" for="is_active">Active</label>
    </div>
    <div class="col-md-3 form-check mt-3">
      <input class="form-check-input" type="checkbox" value="1" id="is_archived" name="is_archived" {% if company.is_archived %}checked{% endif %}>
      <label class="form-check-label" for="is_archived">Archived</label>
    </div>
    {% endif %}
  </div>
  <div class="mt-3 d-flex gap-2">
    <button class="btn btn-primary">Save</button>
    <a class="btn btn-secondary" href="{{ url_for('superadmin.companies_list') }}">Cancel</a>
  </div>
</form>
{% endblock %}
