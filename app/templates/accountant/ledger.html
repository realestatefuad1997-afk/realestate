{% extends 'base.html' %}
{% block title %}{{ _('General Ledger') }}{% endblock %}
{% block content %}
<h3 class="mb-3">{{ _('General Ledger') }}</h3>
<form method="get" class="row g-3 mb-3">
  <div class="col-md-6">
    <label class="form-label">{{ _('Account') }}</label>
    <select class="form-select" name="account_id">
      <option value="">--</option>
      {% for a in accounts %}
      <option value="{{ a.id }}" {% if selected_account and selected_account.id == a.id %}selected{% endif %}>{{ a.code }} - {{ a.name }} ({{ a.type }})</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-md-2 align-self-end">
    <button class="btn btn-primary" type="submit">{{ _('View') }}</button>
  </div>
</form>
<div class="table-responsive">
  <table class="table table-bordered align-middle">
    <thead>
      <tr>
        <th>{{ _('Date') }}</th>
        <th>{{ _('Memo') }}</th>
        <th class="text-end">{{ _('Debit') }}</th>
        <th class="text-end">{{ _('Credit') }}</th>
        <th class="text-end">{{ _('Balance') }}</th>
      </tr>
    </thead>
    <tbody>
      {% for row in lines %}
      <tr>
        <td>{{ row.date }}</td>
        <td>{{ row.memo or '' }}</td>
        <td class="text-end">{{ row.debit }}</td>
        <td class="text-end">{{ row.credit }}</td>
        <td class="text-end">{{ row.balance }}</td>
      </tr>
      {% else %}
      <tr><td colspan="5">{{ _('No data') }}</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
