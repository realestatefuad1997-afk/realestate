{% extends 'base.html' %}
{% block title %}Super Admin{% endblock %}
{% block content %}
<h1 class="mb-4">Super Admin</h1>
<div class="d-flex justify-content-between mb-3">
  <a href="{{ url_for('superadmin.companies_list') }}" class="btn btn-primary"><i class="bi bi-buildings me-1"></i>Companies</a>
  <a href="{{ url_for('superadmin.company_create') }}" class="btn btn-secondary"><i class="bi bi-plus me-1"></i>New Company</a>
</div>
<div class="row g-3">
  {% for s in stats %}
  <div class="col-md-6 col-lg-4">
    <div class="card h-100">
      <div class="card-header">{{ s.company.name }} ({{ s.company.subdomain }})</div>
      <div class="card-body">
        <ul class="list-unstyled mb-0">
          <li>Properties: <strong>{{ s.properties }}</strong></li>
          <li>Tenants: <strong>{{ s.tenants }}</strong></li>
          <li>Contracts: <strong>{{ s.contracts }}</strong></li>
        </ul>
      </div>
      <div class="card-footer d-flex gap-2">
        <a class="btn btn-sm btn-outline-primary" href="{{ url_for('superadmin.company_edit', company_id=s.company.id) }}">Edit</a>
        <a class="btn btn-sm btn-outline-success" href="{{ url_for('superadmin.company_export', company_id=s.company.id) }}">Export</a>
        <form class="ms-auto" method="post" action="{{ url_for('superadmin.company_delete', company_id=s.company.id) }}" onsubmit="return confirm('Delete company and its database?');">
          <button class="btn btn-sm btn-outline-danger">Delete</button>
        </form>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
